<h1>Change Password</h1>
<form id="passwordChangeForm" method="post" action="medical_pass_change" onsubmit="return validateForm()">
    <div class="form-row">
        <div class="form-group col-md-6">
            <label>Old Password</label><span id="er1" style="color:red;"></span>
            <input type="password" name="t1" id="t1" class="form-control" placeholder="Old Password">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label>New Password</label><span id="er2" style="color:red;"></span>
            <input type="password" name="t2" id="t2" class="form-control" placeholder="Enter New Password">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label>Confirm Password</label><span id="er3" style="color:red;"></span>
            <input type="password" name="t3" id="t3" class="form-control" placeholder="Enter Confirm Password">
        </div>
    </div>
    <button type="submit">CHANGE PASSWORD</button>
</form>

{% if msg %}
    <h4>{{msg}}</h4>
{% elif msg1 %}
    <h3>UPDATE CHANGES:</h3>
<a href="logout"><p>WARNING: on click you will be logged out</p></a>
{% endif %}

<script>
function validateForm() {
    var t1 = document.getElementById("t1").value;
    var t2 = document.getElementById("t2").value;
    var t3 = document.getElementById("t3").value;

    var e1 = document.getElementById("er1");
    var e2 = document.getElementById("er2");
    var e3 = document.getElementById("er3");

    // Clear previous error messages
    e1.innerHTML = "";
    e2.innerHTML = "";
    e3.innerHTML = "";

    // Validate Old Password
    if (t1 === "" || t1 === null) {
        e1.innerHTML = "Please enter your old password.";
        return false;
    }

    // Validate New Password
    if (t2 === "" || t2 === null) {
        e2.innerHTML = "Please enter a new password.";
        return false;
    }

    // Validate Confirm Password
    if (t3 === "" || t3 === null) {
        e3.innerHTML = "Please confirm your new password.";
        return false;
    }

    // Check if new password and confirm password match
    if (t2 !== t3) {
        e3.innerHTML = "New password and confirm password do not match.";
        return false;
    }

    // If all validations pass
    return true;
}
</script>